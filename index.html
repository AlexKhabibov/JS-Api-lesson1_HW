<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seminar</title>
    <script src="./seminar.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body>
    <!-- Задание 1
    <div class="task1">
        <h1>Определение текущего размера окна браузера</h1>
        <p>Ширина окна: <span class="window-size" id="width"></span>px</p>
        <p>Выстоа окна: <span class="window-size" id="heith"></span>px</p>
    </div>
    <div class="task1">
        <h1>Подтвержение закрытия страницы</h1>
        <p>Это страница с подтверждением закрытия</p>
    </div>
    <div class="task1">
        <h1>Управление историей переходов</h1>
        <button class="history-btn" id="goBack">Назад</button>
        <button class="history-btn" id="goForw">Вперед</button>
    </div> -->

    <!-- Задание 2 -->
    <!-- <button class="addBtn">Добавить элемент</button>
    <button class="delBtn">Удалить элемент</button>
    <button class="cloneBtn">Клонировать элемент</button>
    <div class="elArea">
        <div class="box">1</div>
        <div class="box">2</div>
        <div class="box">3</div>
    </div>

    <style>
        .box {
            width: 100px;
            height: 100px;
            background-color: lightcoral;
            border: 1px solid black;
            margin: 10px;
            display: inline-block;
        }
    </style> -->

    <!-- Задание 3 -->


    <div class="container mt-5">
        <h1 class="mb-4">Список статей</h1>
        <ul class="list-group" id="articleList"></ul>
        <button class="btn btn-primary mt-3" id="addArticleBtn">Добавить статью</button>
    </div>
    

    <script>
        // // Задание 1
        // const updateWindowSize = () => {
        //     const widthEl = window.innerWidth;
        //     const heightEl = window.innerHeight;

        //     width.textContent = widthEl;
        //     height.textContent = heightEl;

        //     window.addEventListener('load', updateWindowSize);
        //     window.addEventListener('resize', updateWindowSize);
        // };

        // updateWindowSize()



        // window.addEventListener('beforeunload', (e) => {
        //     e.preventDefault();
        //     e.returnValue = 'Закрытие окна'
        // })



        // const backBtn = document.getElementById('goBack');
        // const forwBtn = document.getElementById('goForw');

        // backBtn.addEventListener('click', () => {
        //     window.history.back();
        // });

        // forwBtn.addEventListener('click', () => {
        //     window.history.forward();
        // });



        // Задание 2
        // const addBtn = document.querySelector('.addBtn');
        // const delBtn = document.querySelector('.delBtn');
        // const cloneBtn = document.querySelector('.cloneBtn');
        // const elArea = document.querySelector('.elArea')

        // addBtn.addEventListener('click', () => {
        //     const newBox = document.createElement('div');
        //     newBox.className = 'box';
        //     newBox.textContent = elArea.children.length + 1;
        //     elArea.append(newBox)
        // });

        // delBtn.addEventListener('click', () => {
        //     if (elArea.children.length > 0) {
        //         const lastBox = elArea.lastChild;
        //         elArea.removeChild(lastBox);
        //     }
        // });

        // cloneBtn.addEventListener('click', () => {
        //     if (elArea.children.length > 0) {
        //         const lastBox = elArea.lastChild;
        //         const clone = lastBox.cloneNode(true);
        //         elArea.append(clone);
        //     }
        // });


        // Задание 3
        const articleList = document.getElementById('articleList');
        const addArticleBtn = document.getElementById('addArticleBtn');


        const articlesData = [
            { title: "Заголовок", content: "Содержание" }, 
            { title: "Заголовок", content: "Содержание" }
        ];

        articlesData.forEach(el => {
            const createArticle = createArticle(el.title, el.content);
            articleList.append(createArticle);
        })        

        function createArticle(title, content) {
            const articleItem = document.createElement('li');
            articleItem.classList.add('list-group-item');
            
            const articleTitle = document.createElement('h2');
            articleTitle.classList.add('mb-3');
            articleTitle.textContent = title;

            const articleContent = document.createElement('p');
            articleContent.textContent = content;

            const editBtn = document.createElement('button');
            articleContent.textContent = 'Редактировать';
            editBtn.classList.add('btn', 'btn-warning');

            const delBtn = document.createElement('button');
            articleContent.textContent = 'Удалить';
            delBtn.classList.add('btn', 'btn-danger');         
            
            articleItem.append(articleTitle);
            articleItem.append(articleContent);
            articleItem.append(editBtn);
            articleItem.append(delBtn);

            return articleItem;
        }

        addArticleBtn.addEventListener('click', () => {
            const newArticle = {
                title: 'Введите название статьи',
                content: 'Введите содержание статьи'
            }

            const articleItem = createArticle(newArticle.title, newArticle.content);
            articleList.append(newArticle);
        });

        newArticle.addEventListener('click', (e) => {
            if (e.target.textContent === 'Удалить') {
                const articleItem = e.target.closest('li');
                articleItem.remove();
            }
            if (e.target.textContent === 'Редактировать') {
                const articleItem = e.target.closest('li');
                const articleTitle = articleItem.querySelector('h2');
                const articleContent = articleItem.querySelector('p');

                const newTitle = prompt('Введите новый заголовок', articleTitle.textContent);
                const newContent = prompt('Введите новый заголовок', articleContent.textContent.textContent);

                if (newContent !== null && newTitle !== null) {
                    articleTitle.textContent = newTitle;
                    articleContent.textContent = newContent;
                }
            }
        })
    </script>
</body>

</html>